FROM python:3.10-slim

RUN apt-get update && apt-get install -y \
    bluetooth bluez rfkill sudo docker.io && \
    rm -rf /var/lib/apt/lists/*

# Copy your Python script
COPY docker_bt_auto_connect.py /usr/local/bin/docker_bt_auto_connect.py
RUN chmod +x /usr/local/bin/docker_bt_auto_connect.py

# Set entrypoint
ENTRYPOINT ["python3", "/usr/local/bin/docker_bt_auto_connect.py"]
